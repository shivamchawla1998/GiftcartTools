import {
  ZodObject,
  ZodOptional,
  z
} from "./chunk-LAY4AEXX.js";
import {
  init_cjs_shims
} from "./chunk-M63RTPGR.js";

// ../cli-kit/src/public/node/schema.ts
init_cjs_shims();
function deepStrict(schema) {
  if (schema instanceof ZodObject) {
    const shape = schema.shape;
    const strictShape = Object.fromEntries(
      Object.entries(shape).map(([key, value]) => [key, deepStrict(value)])
    );
    return z.object(strictShape).strict();
  } else if (schema instanceof ZodOptional) {
    return deepStrict(schema._def.innerType).optional();
  } else {
    return schema;
  }
}
function errorsToString(errors) {
  return errors.map(
    (error) => error.path.join(".").concat(": ").concat(error.message ?? "Unknow error")
  ).join("\n");
}

export {
  deepStrict,
  errorsToString
};
