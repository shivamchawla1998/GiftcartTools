import {
  demo
} from "./chunk-ZOTASNQ2.js";
import {
  base_command_default
} from "./chunk-EDVQGTOL.js";
import {
  outputInfo,
  readFile,
  renderAutocompletePrompt
} from "./chunk-4IXC46ZA.js";
import {
  joinPath
} from "./chunk-MHMFNQE3.js";
import {
  init_cjs_shims
} from "./chunk-M63RTPGR.js";

// src/cli/commands/demo/catalog.ts
init_cjs_shims();
import { fileURLToPath } from "url";
var Catalog = class extends base_command_default {
  static {
    this.description = "Browse the catalog for steps";
  }
  static {
    this.hidden = true;
  }
  async run() {
    const catalogFile = joinPath(fileURLToPath(import.meta.url), "../../../../../assets/demo-catalog.json");
    const { steps } = JSON.parse(await readFile(catalogFile));
    const stepSelection = await renderAutocompletePrompt({
      message: "Step to display",
      choices: steps.map(({ title, type }) => {
        return {
          label: title,
          value: title,
          group: type
        };
      })
    });
    const selectedStep = steps.find(({ title }) => title === stepSelection);
    outputInfo("The step looks like this:");
    await demo({ steps: [selectedStep] });
    outputInfo("JSON for this step:");
    outputInfo(JSON.stringify(selectedStep, null, 2));
  }
};

export {
  Catalog
};
